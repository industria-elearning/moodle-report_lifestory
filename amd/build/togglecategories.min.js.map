{"version":3,"file":"togglecategories.min.js","sources":["../src/togglecategories.js"],"sourcesContent":["/**\n * Controlador JS para expandir/colapsar categorías en el historial de estudiante.\n */\nexport const init = () => {\n\n    // Manejar clicks en botones de categoría\n    document.querySelectorAll(\".toggle-category\").forEach(button => {\n        button.addEventListener(\"click\", e => {\n            e.preventDefault();\n            e.stopPropagation();\n\n            const categoryId = button.dataset.categoryid;\n            const dataTarget = button.dataset.target;\n            let categoryRows = dataTarget ? document.querySelectorAll(dataTarget) : [];\n\n            if ((!dataTarget || categoryRows.length === 0) && categoryId) {\n                categoryRows = document.querySelectorAll(\"tr.cat_\" + categoryId);\n            }\n\n            if (categoryRows.length > 0) {\n                const isExpanded = button.getAttribute(\"aria-expanded\") === \"true\";\n\n                if (isExpanded) {\n                    // Colapsar\n                    categoryRows.forEach(row => {\n                        row.style.display = \"none\";\n                    });\n                    button.setAttribute(\"aria-expanded\", \"false\");\n                    button.querySelector(\".collapsed\")?.classList.remove(\"d-none\");\n                    button.querySelector(\".expanded\")?.classList.add(\"d-none\");\n                } else {\n                    // Expandir\n                    categoryRows.forEach(row => {\n                        row.style.display = \"\";\n                    });\n                    button.setAttribute(\"aria-expanded\", \"true\");\n                    button.querySelector(\".collapsed\")?.classList.add(\"d-none\");\n                    button.querySelector(\".expanded\")?.classList.remove(\"d-none\");\n                }\n            }\n        });\n    });\n\n    // Estado inicial de los botones\n    document.querySelectorAll(\".toggle-category\").forEach(button => {\n        const isExpanded = button.getAttribute(\"aria-expanded\") === \"true\";\n        button.querySelector(\".collapsed\")?.classList.toggle(\"d-none\", isExpanded);\n        button.querySelector(\".expanded\")?.classList.toggle(\"d-none\", !isExpanded);\n    });\n};\n"],"names":["document","querySelectorAll","forEach","button","addEventListener","e","preventDefault","stopPropagation","categoryId","dataset","categoryid","dataTarget","target","categoryRows","length","getAttribute","row","style","display","setAttribute","querySelector","classList","remove","add","isExpanded","toggle"],"mappings":"+KAGoB,KAGhBA,SAASC,iBAAiB,oBAAoBC,SAAQC,SAClDA,OAAOC,iBAAiB,SAASC,IAC7BA,EAAEC,iBACFD,EAAEE,wBAEIC,WAAaL,OAAOM,QAAQC,WAC5BC,WAAaR,OAAOM,QAAQG,WAC9BC,aAAeF,WAAaX,SAASC,iBAAiBU,YAAc,MAElEA,YAAsC,IAAxBE,aAAaC,SAAiBN,aAC9CK,aAAeb,SAASC,iBAAiB,UAAYO,aAGrDK,aAAaC,OAAS,EAAG,mGACmC,SAAzCX,OAAOY,aAAa,iBAInCF,aAAaX,SAAQc,MACjBA,IAAIC,MAAMC,QAAU,UAExBf,OAAOgB,aAAa,gBAAiB,uCACrChB,OAAOiB,cAAc,sEAAeC,UAAUC,OAAO,yCACrDnB,OAAOiB,cAAc,uEAAcC,UAAUE,IAAI,eAGjDV,aAAaX,SAAQc,MACjBA,IAAIC,MAAMC,QAAU,MAExBf,OAAOgB,aAAa,gBAAiB,uCACrChB,OAAOiB,cAAc,wEAAeC,UAAUE,IAAI,yCAClDpB,OAAOiB,cAAc,uEAAcC,UAAUC,OAAO,iBAOpEtB,SAASC,iBAAiB,oBAAoBC,SAAQC,iEAC5CqB,WAAsD,SAAzCrB,OAAOY,aAAa,gDACvCZ,OAAOiB,cAAc,wEAAeC,UAAUI,OAAO,SAAUD,2CAC/DrB,OAAOiB,cAAc,uEAAcC,UAAUI,OAAO,UAAWD"}