define("report_history_student_ai/togglecategories",["exports"],(function(_exports){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0;_exports.init=()=>{const params=new URLSearchParams(window.location.search),userid=params.get("userid")||"0",courseid=params.get("id")||"all",STORAGE_KEY="history_student_ai_state_".concat(userid,"_").concat(courseid);let state={};try{state=JSON.parse(localStorage.getItem(STORAGE_KEY))||{}}catch(e){state={}}document.querySelectorAll(".toggle-category").forEach((button=>{const categoryId=button.dataset.categoryid,dataTarget=button.dataset.target;let categoryRows=dataTarget?document.querySelectorAll(dataTarget):[];dataTarget&&0!==categoryRows.length||!categoryId||(categoryRows=document.querySelectorAll("tr.cat_"+categoryId));const savedExpanded=state[categoryId];var _button$querySelector,_button$querySelector2;if(!1===savedExpanded)categoryRows.forEach((row=>row.style.display="none")),button.setAttribute("aria-expanded","false"),null===(_button$querySelector=button.querySelector(".collapsed"))||void 0===_button$querySelector||_button$querySelector.classList.remove("d-none"),null===(_button$querySelector2=button.querySelector(".expanded"))||void 0===_button$querySelector2||_button$querySelector2.classList.add("d-none");else if(!0===savedExpanded){var _button$querySelector3,_button$querySelector4;categoryRows.forEach((row=>row.style.display="")),button.setAttribute("aria-expanded","true"),null===(_button$querySelector3=button.querySelector(".collapsed"))||void 0===_button$querySelector3||_button$querySelector3.classList.add("d-none"),null===(_button$querySelector4=button.querySelector(".expanded"))||void 0===_button$querySelector4||_button$querySelector4.classList.remove("d-none")}button.addEventListener("click",(e=>{e.preventDefault(),e.stopPropagation();var _button$querySelector5,_button$querySelector6,_button$querySelector7,_button$querySelector8;"true"===button.getAttribute("aria-expanded")?(categoryRows.forEach((row=>row.style.display="none")),button.setAttribute("aria-expanded","false"),null===(_button$querySelector5=button.querySelector(".collapsed"))||void 0===_button$querySelector5||_button$querySelector5.classList.remove("d-none"),null===(_button$querySelector6=button.querySelector(".expanded"))||void 0===_button$querySelector6||_button$querySelector6.classList.add("d-none"),state[categoryId]=!1):(categoryRows.forEach((row=>row.style.display="")),button.setAttribute("aria-expanded","true"),null===(_button$querySelector7=button.querySelector(".collapsed"))||void 0===_button$querySelector7||_button$querySelector7.classList.add("d-none"),null===(_button$querySelector8=button.querySelector(".expanded"))||void 0===_button$querySelector8||_button$querySelector8.classList.remove("d-none"),state[categoryId]=!0);localStorage.setItem(STORAGE_KEY,JSON.stringify(state))}))})),document.querySelectorAll(".toggle-category").forEach((button=>{var _button$querySelector9,_button$querySelector10;const isExpanded="true"===button.getAttribute("aria-expanded");null===(_button$querySelector9=button.querySelector(".collapsed"))||void 0===_button$querySelector9||_button$querySelector9.classList.toggle("d-none",isExpanded),null===(_button$querySelector10=button.querySelector(".expanded"))||void 0===_button$querySelector10||_button$querySelector10.classList.toggle("d-none",!isExpanded)}))}}));

//# sourceMappingURL=togglecategories.min.js.map